(function(a){a.fn.confirm=function(b){return this.each(function(){var e;var g=true;var c=a(this);var f={msg:"确定要删除么?",onOK:function(h){g=false;g=true},checkConditions:function(){return true}};if(typeof b!="object"){e=a.extend({},f)}else{e=a.extend({},f,b)}a(this).click(function(h){if(g){if(e.checkConditions.call()){if(e.before!=undefined){e.before(h);if(e.before(h)!=false){d(h)}}else{d(h)}h.preventDefault();h.stopPropagation()}}});var d=function(j){var i=a(j.target);var h="";a("#confirmDiv").unbind().remove();h+='<p class="msg">'+e.msg+"</p>";h+='<span class="arrow" style="top:-13px;left:43px;"><i class="a1">◆</i><i class="a2">◆</i></span><p class="ops"><span class="ok">确定</span> | <span class="cancel">取消</span></p>';a('<div id="confirmDiv" />').append(h).css({right:-80,top:35,display:"none",position:"absolute"}).appendTo(i.closest(".coframe")).fadeIn();var k=setTimeout(function(){a("#confirmDiv").unbind().remove()},3000);a("#confirmDiv").hover(function(l){clearTimeout(k)},function(l){k=setTimeout(function(m){a("#confirmDiv").unbind().remove()},3000)});a("#confirmDiv .ok").click(function(){a("#confirmDiv").remove();e.onOK(j)});a("#confirmDiv .cancel").click(function(l){a("#confirmDiv").remove();i.closest(".coframe").removeClass("cohover").end().attr("style","display:none");if(e.onCancel!=undefined){e.onCancel(l)}})}})}})(jQuery);